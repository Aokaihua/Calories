<!--pages/addCal.wxml-->
<!-- box to show total Kcal -->
<view class="show-cal-container">
  <view class="title-cal">Âç°Ë∑ØÈáå</view>
  <view class="total-cal">{{totalCal}}Cal</view>
</view>

<!-- Âõõ‰∏™ËÉΩÂ§üÊ∑ªÂä†Ê∂àËÄóÂç°Ë∑ØÈáåÁöÑÊåâÈíÆ -->
<view class="btn-container">
<!-- ÊØè‰∏™ÊåâÈíÆÂâçÈù¢Ë¶ÅÊ∑ªÂä†iconÔºåÂêéÈù¢Ë¶ÅÊ∑ªÂä†Âä†Âè∑ -->
<view class="meal" wx:for="{{mealList}}" wx:for-item="meal">
  <view class="meal-name" bindtap="popup" id = "{{meal.mealName}}">
    <view class="meal-name-text">{{meal.mealName}}</view>
    <view class="meal-calories">{{mealTotalCal[meal.mealName]}}</view>
    <image src="../../image/addCal/plus.svg" alt="oops" class="plus"></image>
  </view>
  <!-- Êé•‰∏ãÊù•Ê∑ªÂä†Êñ∞ÁöÑÈ£üÁâ©ÂàóË°® -->
  <view class="list" wx:for="{{meal.addFoodList}}" wx:for-item="dish">
    <view class="line"></view>
  <!-- list-nameÈáåË¶ÅÊîæbindtapÔºåÊåâÂêéÊòæÁ§∫inputÁ™óÂè£Ëá™ÂÆö‰πâÈ£üÁâ©ÁöÑÈáçÈáè -->
    <view class="list-name" bindtap="removeFood" data-value="{{dish.name}}">
      <view class="list-name-text">{{dish.name}}</view>
      <view class="food-calories">{{dish.cal}}</view>
      <image src="../../image/addCal/remove.svg" class="remove"></image>
    </view>
  </view>
</view>

</view>
<!-- ‰º™È°µÈù¢ -->
<page-container 
  show="{{show}}"
  round="true"
  overlay="true"
  position="bottom"
  close-on-slide-down="false"
  custom-style="height: 80%;"
  overlay-style="background-color: rgba(0, 0, 0, 0.7);"
>
  <view class="add-page">
  <!-- ÊêúÁ¥¢ÁªÑ‰ª∂üëá-->
  <view class="main">
    <view class="header-search">
      <image src="../../image/addCal/search_icon.svg" class="searchImg"></image>
        <input type="text" class="searchInput" focus="{{autoFocus}}" hold-keyborad="true" placeholder="ËØ∑ËæìÂÖ•È£üÁâ©ÂêçÁß∞ËøõË°åÊêúÁ¥¢" bindinput = "input" value="{{searchText}}"></input>
      <image src="../../image/addCal/search_remove.svg" class="clearInputImg" bindtap="clear"></image>
    </view>
    <view style="padding: 0 24rpx;">
        <view class="searchResult" wx:if="{{searchText}}">
             <view class="searchText" data-type="1" bindtap = "toHandleSearch">ÊêúÁ¥¢"{{searchText}}"</view>
        </view>
        <view wx:for="{{searchResultList}}" wx:key="index" data-value="{{food[index]}}" bindtap="addFood" class="result-text">
          <text wx:for="{{searchResultList[index]}}"  wx:key="*this" class="{{item == searchText ? 'highlight' : 'normal' }}">{{item}}</text>
        </view>
    </view>
  </view>
  <!-- ÊêúÁ¥¢ÁªÑ‰ª∂üëÜ -->
    <!-- <button wx:for="{{food}}" type="primary" bindtap="addFood" data-value = "{{food[index]}}">{{food[index]["name"]}}</button> -->
    
  </view>
</page-container>